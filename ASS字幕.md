## ASS 特效字幕语法

### ASS 字幕元数据解释

[Script Info]
Collisions: Normal          ; 
PlayDepth: 0                ;
WrapStyle: 0                ;
ScaledBorderAndShadow: yes  ; 边框和阴影是否缩放
YCbCr Matrix: TV.601        ; YCbCr色彩空间矩阵, 可选项有 TV.601, TV.709, PC.601
PlayResX: 1440              ; 视频分辨率
PlayResY: 1080              ; 视频分辨率



- 最常用的特效:
```
{\fnArial\fs40\bord2}   # 字体: Arial, 字号: 40, 边框: 2

\1c&0xFFFFFF            # 字体颜色: 白色
\3c&0x000000            # 边框颜色: 黑色

\an1                    # 贴边位置: 左上角
\an2                    # 贴边位置: 右上角
\blur4                  # 边框模糊度: 4
\pos(640,36)            # 精准定位: (640,36)
\fad(400,100)           # 淡入: 400ms, 淡出: 100ms
```

- 基础格式标签
```
{\fnArial\fs40\bord2}   # 字体: Arial, 字号: 40, 边框: 2
{\fn微软雅黑\fs24}      # 中文字体: 微软雅黑, 字号: 24
{\b1}                   # 粗体开启
{\b0}                   # 粗体关闭
{\i1}                   # 斜体开启
{\i0}                   # 斜体关闭
{\u1}                   # 下划线开启
{\s1}                   # 删除线开启
```

- 颜色设置
```
\1c&H0000FF&            # 字体颜色: 红色 (BGR格式)
\2c&H00FF00&            # 副字体颜色: 绿色
\3c&H000000&            # 边框颜色: 黑色
\4c&H808080&            # 阴影颜色: 灰色

- 常用颜色代码 (BGR格式)
\1c&HFFFFFF&            # 白色
\1c&H000000&            # 黑色
\1c&H0000FF&            # 红色
\1c&H00FF00&            # 绿色
\1c&HFF0000&            # 蓝色
\1c&H00FFFF&            # 黄色
\1c&HFF00FF&            # 品红
\1c&HFFFF00&            # 青色
```

- 定位和对齐
```
\an1                    # 左下角对齐
\an2                    # 底部居中对齐
\an3                    # 右下角对齐
\an4                    # 左侧居中对齐
\an5                    # 中心对齐
\an6                    # 右侧居中对齐
\an7                    # 左上角对齐
\an8                    # 顶部居中对齐
\an9                    # 右上角对齐

\pos(640,360)           # 绝对定位: x=640, y=360
\move(100,100,500,300)  # 从(100,100)移动到(500,300)
\move(100,100,500,300,0,1000)  # 在0-1000ms内移动
```

- 边框和阴影
```
\bord0                  # 无边框
\bord2                  # 边框宽度: 2
\bord5                  # 边框宽度: 5
\xbord3\ybord3          # x轴和y轴边框宽度: 3

\shad0                  # 无阴影
\shad2                  # 阴影偏移: 2
\xshad3\yshad3          # x轴和y轴阴影偏移: 3

\blur0                  # 无模糊
\blur2                  # 模糊半径: 2
\be1                    # 边缘模糊: 1
```

- 透明度设置
```
\alpha&H00&             # 完全不透明
\alpha&H80&             # 50% 透明
\alpha&HFF&             # 完全透明

\1a&H00&                # 字体不透明
\1a&H80&                # 字体50%透明
\3a&H00&                # 边框不透明
\4a&H80&                # 阴影50%透明
```

- 时间控制和淡入淡出
```
\fad(500,300)           # 淡入500ms, 淡出300ms
\fade(255,0,255,0,500,2000,2500)  # 复杂淡入淡出

\t(\fs50)               # 字号逐渐变为50
\t(1000,2000,\fs50)     # 在1-2秒内字号变为50
\t(\1c&H0000FF&)        # 颜色逐渐变为红色
```

- 旋转和缩放
```
\frz45                  # Z轴旋转45度
\frx30                  # X轴旋转30度 (3D效果)
\fry30                  # Y轴旋转30度 (3D效果)

\fscx150                # X轴缩放150%
\fscy120                # Y轴缩放120%
\fsc150                 # 整体缩放150%

\org(320,240)           # 设置旋转中心点
```

- 字符间距和行距
```
\fsp5                   # 字符间距: 5
\fsp-2                  # 字符间距: -2 (紧凑)
```

- 剪切路径 (遮罩)
```
\clip(100,100,400,300)  # 矩形剪切区域
\iclip(100,100,400,300) # 反向剪切 (外部可见)
\clip(m 100 100 l 400 100 400 300 100 300)  # 多边形剪切
```

- 绘图命令
```
{\p1}m 0 0 l 100 0 100 100 0 100{\p0}  # 绘制矩形
{\p1\c&H0000FF&}m 50 0 b 50 28 28 50 0 50 b -28 50 -50 28 -50 0 b -50 -28 -28 -50 0 -50 b 28 -50 50 -28 50 0{\p0}  # 绘制圆形
```

- 实用组合示例
```
# 标准字幕样式
{\fn微软雅黑\fs24\bord2\3c&H000000&\shad1\4c&H808080&}

# 标题样式
{\fn方正粗黑宋简体\fs36\b1\bord3\3c&H000000&\shad2\pos(640,100)}

# 渐变出现效果
{\fad(800,0)\t(\fscx120\fscy120)\t(200,400,\fscx100\fscy100)}

# 弹幕效果
{\move(1400,300,0,300)\1c&HFFFFFF&\3c&H000000&\bord2}

# 震动效果
{\t(0,100,\fscx105\fscy105)\t(100,200,\fscx95\fscy95)\t(200,300,\fscx105\fscy105)}
```